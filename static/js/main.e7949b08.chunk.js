(this.webpackJsonparsredovisning=this.webpackJsonparsredovisning||[]).push([[0],{102:function(e,t,n){"use strict";(function(e){var r=n(103),a=n.n(r);t.a=function(t){var n=new FileReader;return n.readAsArrayBuffer(t),new Promise((function(t){n.onload=function(n){var r=a.a.decode(e.from(n.target.result),"cp437");t(r)}}))}}).call(this,n(53).Buffer)},125:function(e,t,n){},126:function(e,t,n){},153:function(e,t){},154:function(e,t){},185:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(33),i=n.n(a),c=(n(125),n(107)),s=n(236),o=n(222),l=(n(126),n(47)),u=n(61),d=n(19),j=function(){function e(t){Object(l.a)(this,e),this.company={info:{name:"",registrationNumber:"",addressInfo:{name:"",street:"",city:"",zipCode:"",phone:""}},fiscalYears:{currentStart:"",currentEnd:"",previousStart:"",previousEnd:""},accounts:{},result:{operatingIncome:{current:0,previous:0,children:{}},operatingCosts:{current:0,previous:0,children:{}},financialPosts:{current:0,previous:0,children:{}},yearEndDistribution:{current:0,previous:0,children:{}},taxes:{current:0,previous:0,children:{}},operatingProfit:{current:0,previous:0,children:{}},financialProfit:{current:0,previous:0,children:{}},profitBeforeTaxes:{current:0,previous:0,children:{}},yearResult:{current:0,previous:0,children:{}}}},this.isReady=!1,this.rootStore=void 0,Object(d.e)(this,{company:d.f,isReady:d.f,hydrate:d.b}),this.rootStore=t}return Object(u.a)(e,[{key:"hydrate",value:function(e){var t=this;Object(d.g)((function(){t.company=e,t.isReady=!0}))}}]),e}(),h=function e(){Object(l.a)(this,e),this.companyStore=void 0,this.companyStore=new j(this)},b=n(1),p=Object(r.createContext)(void 0);function f(e){var t=e.children,n=new h;return Object(b.jsx)(p.Provider,{value:n,children:t})}var m,O,x,g,v,y,S,k=function(){var e=Object(r.useContext)(p);if(!e)throw new Error("useStore must be used within a StoreProvider.");return{companyStore:e.companyStore}},R=n(31),Y=n(14),C=n(20),w=n(34),T=w.a.div(m||(m=Object(C.a)(["\n  width: 100%;\n  height: 100%;\n  padding: 32px;\n  box-sizing: border-box;\n"]))),B=function(e){var t=e.children;return Object(b.jsx)(T,{children:t})},E=function(){var e=k().companyStore;return Object(b.jsxs)(B,{children:[Object(b.jsx)("h5",{children:"Balansr\xe4kning"}),e.company.info.name,Object(b.jsx)(R.b,{to:"/result-disposition",children:Object(b.jsx)("button",{type:"button",children:"Forts\xe4tt"})})]})},N=n(10),P=n(5),A=n(237),F=n(239),I=n(231),W=n(226),D=n(229),z=n(242),J=n(234),M=w.a.div(O||(O=Object(C.a)(["\nmargin-left: 2rem;\n"]))),G=w.a.div(x||(x=Object(C.a)(["\ndisplay: flex;\ngap: 1rem;\nflex-direction: row;\n"]))),H=w.a.div(g||(g=Object(C.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin: 1rem;\njustify-content: space-between;\nalign-items: center;\n"]))),V=function(e){var t=e.title,n=e.children;return Object(b.jsxs)(H,{children:[Object(b.jsx)(M,{children:t}),Object(b.jsx)(G,{children:n})]})},$=Object(w.a)(R.b)(v||(v=Object(C.a)(["\n  text-decoration: none;\n  margin:",";\n  pointer-events:",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),(function(e){return e.margin}),(function(e){return e.disabled&&"none"})),K=function(e){var t=e.to,n=e.children,r=e.margin,a=e.disabled;return Object(b.jsx)($,{disabled:a,margin:r,to:t,children:n})},q=function(e){return null===e||void 0===e?void 0:e.split("").reduce((function(e,t,n){return e+(3===n||5===n?"".concat(t,"-"):t)}))},L=Object(P.a)(A.a)(y||(y=Object(C.a)(["\ngap: 2rem;\nmargin-top: 2rem;\npadding:1rem;\n"]))),Q=function(){var e=k().companyStore,t=Object(r.useState)(""),n=Object(N.a)(t,2),a=n[0],i=n[1],c=function(e){i(e.target.value)};return Object(b.jsxs)(B,{children:[Object(b.jsx)(F.a,{variant:"h4",children:"F\xf6retagsuppgifter"}),Object(b.jsxs)(L,{children:[Object(b.jsx)(F.a,{variant:"h5",children:"R\xe4kenskaps\xe5r"}),Object(b.jsx)(V,{title:"Aktuellt r\xe4kenskaps\xe5r",children:Object(b.jsx)(F.a,{variant:"h6",children:e.isReady&&"".concat(q(e.company.fiscalYears.currentStart)," - ").concat(q(e.company.fiscalYears.currentEnd))})}),Object(b.jsx)(V,{title:"Antal tidigare r\xe4kenskaps\xe5r",children:Object(b.jsx)(I.a,{sx:{minWidth:"120px"},size:"small",children:Object(b.jsxs)(W.a,{value:a,onChange:c,children:[Object(b.jsx)(D.a,{value:0,children:"0"}),Object(b.jsx)(D.a,{value:1,children:"1"}),Object(b.jsx)(D.a,{value:2,children:"2"})]})})}),Object(b.jsx)(F.a,{variant:"h5",children:"\xd6vriga uppgifter"}),Object(b.jsx)(V,{title:"Koncernf\xf6rh\xe5llande",children:Object(b.jsx)(I.a,{sx:{minWidth:"120px"},size:"small",children:Object(b.jsxs)(W.a,{value:a,onChange:c,children:[Object(b.jsx)(D.a,{value:"none",children:"Bolaget ing\xe5r i en koncern"}),Object(b.jsx)(D.a,{value:"mother",children:"Bolaget \xe4r modern i en koncern"}),Object(b.jsx)(D.a,{value:"daugther",children:"Bolaget \xe4r dottern i en koncern"})]})})}),Object(b.jsx)(F.a,{variant:"h5",children:"Revisor"}),Object(b.jsx)(V,{title:"Har bolaget revisor?",children:Object(b.jsx)(z.a,{})}),Object(b.jsx)(K,{to:"/result-sheet",children:Object(b.jsx)(J.a,{variant:"contained",children:"Forts\xe4tt"})})]})]})},U=n(230),X=Object(P.a)(A.a)(S||(S=Object(C.a)(["\ndisplay: flex;\njustify-content: center;\nalign-items: center;\ntext-align: center;\nflex-direction: column;\ngap: 2rem;\nmargin-top: 2rem;\npadding:1rem;\n"]))),Z=function(){var e=k().companyStore;return Object(b.jsxs)(B,{children:[Object(b.jsx)(F.a,{variant:"h4",children:"V\xe4lj r\xe4kenskaps\xe5r"}),Object(b.jsxs)(X,{children:[Object(b.jsx)(F.a,{variant:"h6",children:e.isReady&&"F\xf6r f\xf6retaget ".concat(e.company.info.name," fanns f\xf6ljande r\xe4kenskaps\xe5r som kan anv\xe4ndas i SIE-filen. V\xe4lj det \xe5r som ska l\xe4mnas in till Bolagsverket")}),Object(b.jsxs)(F.a,{variant:"h5",children:[Object(b.jsx)(U.a,{}),e.isReady&&"".concat(q(e.company.fiscalYears.currentStart)," - ").concat(q(e.company.fiscalYears.currentEnd))]}),Object(b.jsx)(K,{to:"/company-info",children:Object(b.jsx)(J.a,{variant:"contained",children:"Forts\xe4tt"})})]})]})},_=n(67),ee=n(32),te=n(84),ne=n.n(te),re=n(100),ae=n(108),ie=n(102),ce=n(3);function se(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.replace(/"[^"]+"/g,(function(e){return e.replaceAll(" ","{tempSpace}")})).split(" ").map((function(e){return e.replaceAll("{tempSpace}"," ")}));return t?n.map((function(e){return e.replaceAll('"',"")})):n}function oe(e){var t=e.find((function(e){return e.startsWith("#FNAMN")}));return t?se(t,!0)[1]:"unknown"}function le(e){var t=e.find((function(e){return e.startsWith("#ORGNR")})).replace(/(\d{6})(\d{4})/,"$1-$2");return t?se(t,!0)[1]:"unknown"}function ue(e){var t=e.find((function(e){return e.startsWith("#ADRESS")}));if(!t)return{};var n=se(t,!0),r=Object(N.a)(n,5),a=r[1],i=r[2],c=r[3],s=r[4];return{name:a,street:i,city:c.split(" ")[1],zipCode:c.split(" ")[0],phone:s}}function de(e){var t=e.find((function(e){return e.startsWith("#RAR 0")})),n=e.find((function(e){return e.startsWith("#RAR -1")}));console.log(t),console.log(n);var r=t?se(t):[],a=Object(N.a)(r,4),i=a[2],c=a[3],s=n?se(n):[],o=Object(N.a)(s,4);return{currentStart:i,currentEnd:c,previousStart:o[2],previousEnd:o[3]}}function je(e){return e.reduce((function(e,t){if(t.startsWith("#RES")){var n=se(t),r=Object(N.a)(n,4),a=r[1],i=r[2],c=r[3],s=-1===Number(a)?"previousBalance":"currentBalance";if(!e[i])return Object(ee.a)(Object(ee.a)({},e),{},Object(ce.a)({},i,Object(ee.a)(Object(ee.a)({},e[i]?e[i]:{name:"",previousBalance:0,currentBalance:0}),{},Object(ce.a)({},s,Number(c)))))}return e}),{})}var he=function(e){var t=e.replaceAll("\r","").split("\n");return{info:{name:oe(t),registrationNumber:le(t),addressInfo:ue(t)},fiscalYears:de(t),accounts:je(t)}},be={operatingIncome:{title:"R\xf6relsens int\xe4kter",sumTitle:"Summa r\xf6relseint\xe4kter, lagerf\xf6r\xe4ndringar m.m.",children:{netSales:{title:"Nettooms\xe4ttning",accountRange:[3e3,3999]}}},operatingCosts:{title:"R\xf6relsekostnader",sumTitle:"Summa r\xf6relsekostnader",children:{rawMaterialsConsumables:{title:"R\xe5varor och f\xf6rn\xf6denheter",accountRange:[4e3,4999]},otherExternalExpenses:{title:"\xd6vriga externa kostnader",accountRange:[5e3,6999]},staffCosts:{title:"Personalkostnader",accountRange:[7e3,7699]},writeDownsReversalOfWriteDowns:{title:"Nedskrivningar och \xe5terf\xf6ring av nedskrivningar",accountRange:[7700,7799]},depreciationAccordingToPlan:{title:"Avskrivningar enligt plan",accountRange:[7800,7899]},otherOperatingExpenses:{title:"\xd6vriga r\xf6relsekostnader",accountRange:[7900,7999]}}},financialPosts:{title:"Finansiella poster",sumTitle:"Summa finansiella poster",children:{profitParticipationsGroupCompanies:{title:"Resultat fr\xe5n andelar i koncernbolag",accountRange:[8e3,8099]},profitSharesJointlyControlledCompanies:{title:"Resultat fr\xe5n andelar i gemensamt styrda f\xf6retag",accountRange:[8100,8199]},profitOtherFinancialFixedAssets:{title:"Resultat fr\xe5n \xf6vriga finansiella anl\xe4ggningstillg\xe5ngar",accountRange:[8200,8299]},otherInterestIncomeAndSimilarItems:{title:"\xd6vriga r\xe4nteint\xe4kter och liknande resultatposter",accountRange:[8300,8399]},interestExpensesAndSimilarIncomeItems:{title:"R\xe4ntekostnader och liknande resultatposter",accountRange:[8400,8499]}}},yearEndDistribution:{title:"Bokslutsdispositioner",sumTitle:"Summa bokslutsdispositioner",children:{changeInAccruals:{title:"F\xf6r\xe4ndring av periodiseringsfonder f\xf6r juridisk person och enskild n\xe4ringsidkare",accountRange:[8810,8819]},appropriationsAllCompanyForms:{title:"Bokslutsdispositioner f\xf6r samtliga f\xf6retagsformer",accountRange:[8820,8899]}}},taxes:{title:"Skatter",sumTitle:"",children:{taxesYearProfit:{title:"Skatter p\xe5 \xe5rets resultat",accountRange:[8910,8999]}}},operatingProfit:{title:"R\xf6relseresultat",sumTitle:"",children:{}},financialProfit:{title:"Resultat efter finansiella poster",sumTitle:"",children:{}},profitBeforeTaxes:{title:"Resultat f\xf6re skatt",sumTitle:"",children:{}},yearResult:{title:"\xc5rets resultat",sumTitle:"",children:{}}};function pe(e,t){return Object.entries(e).reduce((function(e,n){var r=Object(N.a)(n,2),a=r[0],i=r[1],c=Number(a),s=Object.entries(be[t].children).find((function(e){var t=Object(N.a)(e,2),n=Object(N.a)(t[1].accountRange,2),r=n[0],a=n[1];return c>=r&&c<=a}));if(!s)return e;var o=s[0],l=e.children[o];return{current:e.current+i.currentBalance,previous:e.previous+i.previousBalance,children:Object(ee.a)(Object(ee.a)({},e.children),{},Object(ce.a)({},o,{current:l.current+i.currentBalance,previous:l.previous+i.previousBalance}))}}),{current:0,previous:0,children:Object.fromEntries(Object.keys(be[t].children).map((function(e){return[e,{current:0,previous:0}]})))})}function fe(e){return e.reduce((function(e,t){var n=t.current,r=t.previous;return{current:n+e.current,previous:r+e.previous,children:{}}}))}var me,Oe,xe=function(e){var t=pe(e,"operatingIncome"),n=pe(e,"operatingCosts"),r=pe(e,"financialPosts"),a=pe(e,"yearEndDistribution"),i=pe(e,"taxes"),c=fe([t,n]),s=fe([c,r]),o=fe([s,a]);return{operatingIncome:t,operatingCosts:n,financialPosts:r,yearEndDistribution:a,taxes:i,operatingProfit:c,financialProfit:s,profitBeforeTaxes:o,yearResult:fe([o,i])}},ge=w.a.div(me||(me=Object(C.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 30vh;\n  text-align: center;\n  background-color:#918686;\n  border-radius: 8px;\n"]))),ve=Object(_.a)((function(){var e=k().companyStore,t=function(){var t=Object(re.a)(ne.a.mark((function t(n){var r,a;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ie.a)(n[0]);case 2:r=t.sent,(a=he(r)).result=xe(a.accounts),e.hydrate(a),localStorage.setItem("companyInfo",JSON.stringify(a));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsx)(ae.a,{onDrop:t,children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(b.jsxs)(ge,Object(ee.a)(Object(ee.a)({},t()),{},{children:[Object(b.jsx)("input",Object(ee.a)({},n())),Object(b.jsx)("p",{children:"Sl\xe4pp din SIE-fil h\xe4r f\xf6r att ladda upp filen."})]}))}})})),ye=Object(P.a)(A.a)(Oe||(Oe=Object(C.a)(["\ndisplay: flex;\njustify-content: center;\nalign-items: center;\ntext-align: center;\nflex-direction: column;\ngap: 2rem;\nmargin-top: 2rem;\npadding:6rem;\n"]))),Se=Object(_.a)((function(){var e=k().companyStore;return Object(b.jsxs)(B,{children:[Object(b.jsx)(ve,{}),Object(b.jsxs)(ye,{children:[e.isReady&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(F.a,{variant:"h3",children:e.company.info.name}),Object(b.jsx)(F.a,{variant:"h4",children:e.company.info.registrationNumber})]}),Object(b.jsx)(K,{disabled:!e.isReady,to:"/fiscal-year",children:Object(b.jsx)(J.a,{disabled:!e.isReady,variant:"contained",children:"Forts\xe4tt"})})]})]})})),ke=function(){var e=k().companyStore;return Object(b.jsxs)(B,{children:[Object(b.jsx)("h5",{children:"Noter"}),e.company.info.registrationNumber,Object(b.jsx)(R.b,{to:"/year-story",children:Object(b.jsx)("button",{type:"button",children:"Forts\xe4tt"})})]})},Re=function(){var e=k().companyStore;return Object(b.jsxs)(B,{children:[Object(b.jsx)("h5",{children:"Resultatdisposition"}),e.company.info.registrationNumber,Object(b.jsx)(R.b,{to:"/notes",children:Object(b.jsx)("button",{type:"button",children:"Forts\xe4tt"})})]})},Ye=n(235),Ce=n(228),we=n(106),Te=Object(P.a)(A.a)((function(){return{padding:"32px"}})),Be=function(e){var t=e.subTitle,n=e.children;return Object(b.jsxs)(Ye.a,{mb:12,container:!0,justifyContent:"space-between",children:[Object(b.jsx)(Ye.a,{ml:12,xs:3,item:!0,alignSelf:"center",children:Object(b.jsx)(F.a,{children:t})}),Object(b.jsx)(Ye.a,{item:!0,xs:3,children:Object(b.jsx)(Ye.a,{container:!0,children:n})})]})},Ee=function(e){var t=e.subTitle,n=e.children;return Object(b.jsxs)(Ye.a,{pb:12,container:!0,justifyContent:"space-between",direction:"row",children:[Object(b.jsx)(Ye.a,{item:!0,xs:3,children:Object(b.jsx)(F.a,{variant:"h5",children:t})}),Object(b.jsx)(Ye.a,{item:!0,xs:3,children:Object(b.jsx)(F.a,{variant:"h6",children:n})})]})},Ne=function(){var e=k().companyStore,t=Object(we.a)({initialValues:{thisYear:"700 540 kr"},onSubmit:function(e){alert(JSON.stringify(e,null,2))}});return Object(b.jsx)(B,{children:Object(b.jsx)(Te,{children:Object(b.jsx)("form",{onSubmit:t.handleSubmit,children:Object(b.jsxs)(Ye.a,{container:!0,direction:"column",children:[Object(b.jsx)(Ee,{subTitle:"Resultatr\xe4kning",children:Object(b.jsx)(F.a,{variant:"h6",children:"".concat(q(e.company.fiscalYears.currentStart)," - ").concat(q(e.company.fiscalYears.currentEnd)," ")})}),Object(b.jsx)(Be,{subTitle:"Nettooms\xe4ttning",children:Object(b.jsx)(Ce.a,{fullWidth:!0,id:"thisYear",name:"thisYear",value:t.values.thisYear,onChange:t.handleChange,helperText:t.touched.thisYear&&t.errors.thisYear})}),Object(b.jsx)(Be,{subTitle:"Nettooms\xe4ttning",children:Object(b.jsx)(Ce.a,{fullWidth:!0,id:"thisYear",name:"thisYear",value:t.values.thisYear,onChange:t.handleChange,helperText:t.touched.thisYear&&t.errors.thisYear})}),Object(b.jsx)(Be,{subTitle:"Nettooms\xe4ttning",children:Object(b.jsx)(Ce.a,{fullWidth:!0,id:"thisYear",name:"thisYear",value:t.values.thisYear,onChange:t.handleChange,helperText:t.touched.thisYear&&t.errors.thisYear})}),Object(b.jsx)(Be,{subTitle:"Nettooms\xe4ttning",children:Object(b.jsx)(Ce.a,{fullWidth:!0,id:"thisYear",name:"thisYear",value:t.values.thisYear,onChange:t.handleChange,helperText:t.touched.thisYear&&t.errors.thisYear})}),Object(b.jsx)(Ye.a,{item:!0,alignSelf:"center",children:Object(b.jsx)(J.a,{type:"submit",variant:"contained",children:"Forts\xe4tt"})})]})})})})},Pe=function(){var e=k().companyStore;return Object(b.jsxs)(B,{children:[Object(b.jsx)("h5",{children:"Befattningshavare"}),e.company.fiscalYears.currentEnd,Object(b.jsx)(J.a,{children:"Generera PDF"})]})},Ae=function(){var e=k().companyStore;return Object(b.jsxs)(B,{children:[Object(b.jsx)("h5",{children:"YearStory"}),e.company.info.registrationNumber,Object(b.jsx)(R.b,{to:"/sign",children:Object(b.jsx)("button",{type:"button",children:"Forts\xe4tt"})})]})},Fe=function(){var e=k().companyStore,t=JSON.parse(localStorage.getItem("companyInfo"));return t&&e.hydrate(t),Object(b.jsx)(R.a,{children:Object(b.jsxs)(Y.c,{children:[Object(b.jsx)(Y.a,{path:"/Arsredovisning",element:Object(b.jsx)(Se,{})}),Object(b.jsx)(Y.a,{path:"/fiscal-year",element:Object(b.jsx)(Z,{})}),Object(b.jsx)(Y.a,{path:"/company-info",element:Object(b.jsx)(Q,{})}),Object(b.jsx)(Y.a,{path:"/result-sheet",element:Object(b.jsx)(Ne,{})}),Object(b.jsx)(Y.a,{path:"/balance-sheet",element:Object(b.jsx)(E,{})}),Object(b.jsx)(Y.a,{path:"/result-disposition",element:Object(b.jsx)(Re,{})}),Object(b.jsx)(Y.a,{path:"/notes",element:Object(b.jsx)(ke,{})}),Object(b.jsx)(Y.a,{path:"/year-story",element:Object(b.jsx)(Ae,{})}),Object(b.jsx)(Y.a,{path:"/sign",element:Object(b.jsx)(Pe,{})})]})})},Ie=Object(c.a)({spacing:2,palette:{primary:{main:"#6f12cd"}},typography:{fontFamily:"Comfortaa",fontSize:11},components:{MuiCard:{defaultProps:{elevation:5}},MuiButton:{styleOverrides:{contained:{minWidth:"64px",minHeight:"36px",padding:"8px 16px",lineHeight:.5}}}}});var We=function(){return Object(b.jsx)(f,{children:Object(b.jsxs)(s.a,{theme:Ie,children:[Object(b.jsx)(o.a,{styles:{body:{backgroundColor:"#dae9cc5c"}}}),Object(b.jsx)(Fe,{})]})})};i.a.render(Object(b.jsx)(r.StrictMode,{children:Object(b.jsx)(We,{})}),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.e7949b08.chunk.js.map